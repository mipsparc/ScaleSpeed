####################
#                  #
# ScaleSpeedCamera #
#                  #
####################

興味を持っていただきありがとうございます。
このソフトは、Z・N・HOゲージ(要望があれば他にも)の実車に換算した速度(スケールスピード)をカメラで測定するものです。
なお、本ソフトは現在テストバージョンですので、いろいろと整っていない点もございます。
どうぞご了承いただけますよう、よろしくお願いします。

# 動作環境
Windows 10 64bitでの動作が確認されています。
その他の環境、特に32bit環境では現状動作しませんが、要望が多ければ対応します。
上記環境で正常に動作しなかった場合は、Twitterの @mipsparc にてご報告をお願いします。

# 使用手順
- https://twitter.com/mipsparc/status/1364569161733529611 を見て、使い方の概要を把握します
- 検知用紙「DetectPaper_(ゲージ).pdf」をA4サイズ(原寸縮小なし、またはフチ無し)で印刷します。このとき、黒いバーが150mmならOKです。
- 希望のサイズ(大きいほど読み取りやすいです)を切り出して直線レール沿いに置きます。
- 「ScaleSpeedCamera_v(バージョン).exe」をダウンロードします。
- ダウンロードしたScaleSpeedCamera_v(バージョン).exeをダブルクリックします。
- このとき、「WindowsによってPCが保護されました」という警告が出るかもしれません。
  その場合、詳細情報→実行の順でクリックしてください。
- しばらく黒い画面が表示されます。
- カメラが複数有る場合は、どれにするか選択していただきます。
- カメラ映像が表示されます。
- ノートPCの場合は半分閉じてカメラ中央にバーコードと線路が映るようにしてください。
- 外部Webカメラの場合、安定して設置して、カメラ中央にバーコードと線路が映るようにしてください。
- バーコードの上に縦線と、2本の横線が表示されれば正常です。
- 縦線・横線の中が検知領域になっています。計測する線路と車両全体が中に映るようにしてください。
- 検知領域の左右には一定の余白を置いてください。左右がかつかつだとうまくいきません。
- 列車を通過させると、おおよその速度を音声と画面表示で知らせます。
- 左上に白文字でfps(フレーム毎秒)が表示されます。これが20fpsを常時下回っていると、カメラもしくはPCの性能に問題がある可能性があります。
- 終了するには、Qキーを押すか、右上のバツボタンでウィンドウを閉じてください。

# 超低速設定
- Weightを0、MinRectを15程度に小さくすると、超低速でも認識します。

# 高度な設定
- Contrast: コントラストです。通常は変更する必要はなく、フォーカスを調整したほうが良いです。
- MinRect: 動体検知の動体として検知する最小のレベルです。下げるとより小さな変化に反応しますが、ノイズに反応する恐れもあります。
- Weight: 動体検知の変化をどのくらい追いかけるかのレベルです。下げると低速にも反応するようになりますが、高速時の速度精度が下がります。
- Height: 検知領域の上下幅の大きさです。小さくすると、周りのもの、たとえば他の車両を無視できます。

# 本ソフトウェアのライセンス
MITライセンスとします。

# 作者
mipsparc
Twitter: https://twitter.com/mipsparc
Mail: mipsparc@gmail.com
お気軽にご連絡ください

